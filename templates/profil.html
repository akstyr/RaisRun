<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://fonts.googleapis.com/css2?family=PT+Serif:wght@400;700&family=Roboto:wght@400;500&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Piazzolla&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/fonts.css">
    <link rel="stylesheet" href="css/jquery.fancybox.min.css">
    <link rel="stylesheet" href="css/slick.css">
    <link rel="stylesheet" href="css/style.css">
    <link href='http://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">


</head>

<body>
    <header class="header">
        <div class="header__top">
            <div class="header_contacts">
                <div class="container">
                    <a class="header__phone" href="tel:+79994950876">+7-(999)-495-0876</a>
                    <a class="header__email" href="#">mariaigorevna1206@gmail.com</a>
                    <a data-fancybox data-src="#modal" href="javascript:;" class="header__btn" href="#">Обратная
                        связь</a>

                    <a data-fancybox data-src="#sign_in" href="javascript:;" class="header__btn__sign_in"
                        href="#">Выход</a>
                </div>
            </div>
        </div>
        <div class="header__content">
            <div class="container">
                <div class="header__content-inner">
                    <div class="header_logo">
                        <a href="" hrea="#">
                            <img src="img/logo.png" alt="">
                        </a>
                    </div>
                    <nav class="menu">
                        <ul>
                            <li><a href="index.html">Главная</a></li>
                            <li><a data-fancybox data-src="#support" href="#">Поддержка</a></li>
                            <li><a href="photos.html">Лента</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </header>
    <section class="slider">
        <div class="container">
            <div class="slider__inner">
                <div class="slider__item">
                    <div class="slider__item-content">
                        <div class="slider__title">
                            ФОТОХОСТИНГ RAiSRUN
                        </div>
                        <div class="slider__text">
                            Выдающаяся фотография – это глубина чувств, а не глубина резкости.
                        </div>
                        <div class="slider__text">
                            ©Питер Адамс
                        </div>
                    </div>
                </div>
                <div class="slider__item">
                    <div class="slider__item-content">
                        <div class="slider__title">
                            ФОТОХОСТИНГ RAiSRUN
                        </div>
                        <div class="slider__text">
                            Существуете только вы и ваша камера. Ограничения в вашей фотографии находятся в вас, то, что
                            мы видим, то мы и есть
                        </div>
                        <div class="slider__text">
                            ©Эрнст Хаас
                        </div>
                    </div>
                </div>
                <div class="slider__item">
                    <div class="slider__item-content">
                        <div class="slider__title">
                            ФОТОХОСТИНГ RAiSRUN
                        </div>
                        <div class="slider__text">
                            Фотографии – это открытые двери в прошлое, но они позволяют заглянуть в будущее
                        </div>
                        <div class="slider__text">
                            ©Салли Манн
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    

    <section class="photo_profil">
        <div class="container">
            <div class="block-left">
                <div class="transform-border">

                    <br />

                    
                    <img id="placeholder1" width=300 height=300 /><br />
                    <input id="file" type="file" accept="image/*" />

                </div>
                <a href="#part1">Загруженные фотографии</a>
                <a href="#part2">Выложенные фотографии</a>
                
                    <a id="chenge" href="load_photo.html">Загрузить фото</a>
                    
                    <a id="chenge" href="load_photo.html">Выложить фото</a>
                  
                
            </div>
            <div class="block-right">
                <div class="row_profil">
                    <div class="text-row_profil">
                        Логин:
                    </div>
                    <input id="login" type="text">
                </div>
                <div class="row_profil">
                    <div class="text-row_profil">
                        Имя:
                    </div>
                    <input id="first_name" type="text">
                </div>
                <div class="row_profil">
                    <div class="text-row_profil">
                        Фамилия:
                    </div>
                    <input id="second_name" type="text">
                </div>
                <div class="row_profil">
                    <div class="text-row_profil">
                        Дата рождения:
                    </div>
                    <input type="date" id="date" name="date" />
                </div>
                <div class="row_profil">
                    <div class="text-row_profil">
                        Город:
                    </div>
                    <input id="city" type="text">
                </div>
                <div class="row_profil">
                    <div class="text-row_profil">
                        О себе:
                    </div>
                    <textarea rows="10" cols="45" name="text"></textarea>
                </div>

                <div class="button_profil">
                    <a id="chenge" href="">Сохранить</a>
                </div>

                

            </div>



        </div>



    </section>


    <section class="lenta_photo" id="part1">
        <div class="container">

            <div class="top_photo__top">
                <div class="top_photo__title-box">
                    <div class="top_photo__title">
                        Загруженные фотографии
                    </div>
                </div>
            </div>
            <div class="container_lenta">
                <div class="top_photo__items">
                    <div class="top_photo__item">


                        <div class="top_photo__item-text">
                            <div class="image-box"></div>
                        </div>

                    </div>
                    <div class="top_photo__item">


                        <div class="top_photo__item-text">
                            <div class="image-box2"></div>
                        </div>

                    </div>
                    <div class="top_photo__item">


                        <div class="top_photo__item-text">
                            <div class="image-box3"></div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="lenta_photo" id="part2">
        <div class="container">

            <div class="top_photo__top">
                <div class="top_photo__title-box">
                    <div class="top_photo__title">
                        Выложенные фотографии
                    </div>
                </div>
            </div>
            <div class="container_lenta">
                <div class="top_photo__items">
                    <div class="top_photo__item">


                        <div class="top_photo__item-text">
                            <div class="image-box"></div>
                        </div>

                    </div>
                    <div class="top_photo__item">


                        <div class="top_photo__item-text">
                            <div class="image-box2"></div>
                        </div>

                    </div>
                    <div class="top_photo__item">


                        <div class="top_photo__item-text">
                            <div class="image-box3"></div>
                        </div>

                    </div>
                </div>




            </div>
           
        </div>
    </section>
    

    <footer class="footer">
        <div class="footer__content">
            <div class="container">
                <div class="footer__inner">
                    <div class="footer__info">
                        <div class="footer__title">
                            Фотохостинг RaisRun
                        </div>
                        <div class="footer__text">
                            Приостановленный момент - оживляет дейсвтвие!
                        </div>
                        <a data-fancybox data-src="#modal" href="javascript:;" class="header__btn" href="#">
                            Обратная связь
                        </a>
                        <ul class="footer__list">
                            <li><a class="footer__phone" href="tel:+79994950876">+7-(999)-495-0876</a></li>
                            <li><a href="#">mariaigorevna1206@gmail.com</a></li>
                            <li><a class="footer__adress" href="#">Томск, Красноармейская ул., 146</a></li>
                        </ul>
                    </div>
                    <div class="footer__map">
                        <iframe height="250px"
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2204.797781680577!2d84.9760504158195!3d56.45401608074669!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4326ecb685e1cf85%3A0x5216463ced706c80!2z0JrRgNCw0YHQvdC-0LDRgNC80LXQudGB0LrQsNGPINGD0LsuLCAxNDYsINCi0L7QvNGB0LosINCi0L7QvNGB0LrQsNGPINC-0LHQuy4sIDYzNDA0NQ!5e0!3m2!1sru!2sru!4v1602268269053!5m2!1sru!2sru"
                            width="600" height="450" frameborder="0" style="border:0;" allowfullscreen=""
                            aria-hidden="false" tabindex="0"></iframe>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer__copy">
            <div class="container">
                <div class="copy__text">
                    © 2020 RaisRun. Все права защищены.
                </div>
            </div>
        </div>
    </footer>

    <div id="modal">
        <form>
            <input type="text" placeholder="Введите ваше имя">
            <input type="text" placeholder="Введите ваш телефон">
            <input type="text" placeholder="Введите ваш email">
            <input type="submit" value="Отправить">
        </form>
    </div>

    <div id="sign_up" style="display: none;">
        <h1 class="title_sign_in__up">Cоздайте аккаунт в
            <a href="" hrea="#">
                <img src="img/logo.png" alt="">
            </a>
        </h1>
        <form>
            <input type="text" placeholder="Имя">
            <input type="text" placeholder="Фамилия">
            <input type="text" required="true" placeholder="Логин">
            <input type="text" placeholder="Телефон">
            <input type="text" placeholder="email">
            <input type="password" required="true" placeholder="Пароль">
            <input type="password" required="true" placeholder="Подтвердить">
            <p class="polit_conf"> При регистрации Вы соглашаетесь с <a href="#" style="color:dodgerblue"> Политикой
                    конфиденциальности</a></p>
            <input type="submit" class="submit__btn" value="Отправить">
            <input type="reset" class="reset__btn" value="Очистить">
        </form>
    </div>

    <div id="sign_in" style="display: none;">
        <h1 class="title_sign_in__up">Выход</h1>
        <form>
            <div class="news__slider-text">
                Вы действительно хотите выйти?
            </div>

            <input type="submit" class="submit__btn" value="Да">
            <input type="reset" class="reset__btn" value="Нет">
        </form>
    </div>

    <div id="support" style="display: none;">
        <h1 class="title_sign_in__up">Техподдержка</h1>
        <form>
            <p></p>
            <div class="news__slider-text">
                О возникших вопросах или найденных неисправновностях Вы всегда можете написать нам на почту
                <a href="#" style="color:dodgerblue">pochta@gmail.com</a>
            </div>
        </form>
    </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript" src="/js/popuu_img.js"></script>
    <script defer>
        const shuffleArray = arr => arr.sort(() => Math.random() - 0.5)

        var list = []
        var indices = []
        var numberOfImages = 10;

        for (i = 1; i < numberOfImages; i++) {
            indices[i] = parseInt(i);
            list[i] = "D:/учеба/9 семестр/РАИС/raisrun/img/photos/photo_" + (i) + ".jpg";
        }
        shuffleArray(indices);
        for (i = 0; i < 3; i++) {

            if (list[indices[i]] == undefined) {
                continue;
            }

            var newHeading = "<h1>Имя рейтинг</h1>";
            var newParagraph = document.createElement("a");
            newParagraph.setAttribute('class', ' fancybox');
            newParagraph.setAttribute('rel', 'gallery1');
            newParagraph.setAttribute('href', list[indices[i]]);
            newParagraph.innerHTML = "<em>Full</em>";
            var newImage = $("<img src=\"" + list[indices[i]] + "\" style = \"width: 300px; \" height:300px \">");
            var img = document.createElement('img');
            img.setAttribute('src', list[indices[i]]);
            img.className = "top_photo__item";

            $('.image-box').append(newHeading, newImage, newParagraph);

        }
        for (i = 3; i < 6; i++) {

            if (list[indices[i]] == undefined) {
                continue;
            }

            var newHeading = "<h1>Имя рейтинг</h1>";
            var newParagraph = document.createElement("a");
            newParagraph.setAttribute('class', ' fancybox');
            newParagraph.setAttribute('rel', 'gallery1');
            newParagraph.setAttribute('href', list[indices[i]]);
            newParagraph.innerHTML = "<em>Full</em>";
            var newImage = $("<img src=\"" + list[indices[i]] + "\" style = \"width: 300px; \" height:300px \">");
            var img = document.createElement('img');
            img.setAttribute('src', list[indices[i]]);
            img.className = "top_photo__item";

            $('.image-box2').append(newHeading, newImage, newParagraph);

        }
        for (i = 6; i < numberOfImages; i++) {

            if (list[indices[i]] == undefined) {
                continue;
            }

            var newHeading = "<h1>Имя рейтинг</h1>";
            var newParagraph = document.createElement("a");
            newParagraph.setAttribute('class', ' fancybox');
            newParagraph.setAttribute('rel', 'gallery1');
            newParagraph.setAttribute('href', list[indices[i]]);
            newParagraph.innerHTML = "<em>Full</em>";
            var newImage = $("<img src=\"" + list[indices[i]] + "\" style = \"width: 300px; \" height:300px \">");
            var img = document.createElement('img');
            img.setAttribute('src', list[indices[i]]);
            img.className = "top_photo__item";

            $('.image-box3').append(newHeading, newImage, newParagraph);

        }


    </script>

    <script>
        // Exif orientation value to css transform mapping
        // Does not include flipped orientations
        var rotation = {
            1: 'rotate(0deg)',
            3: 'rotate(180deg)',
            6: 'rotate(90deg)',
            8: 'rotate(270deg)'
        };

        function _arrayBufferToBase64(buffer) {
            var binary = ''
            var bytes = new Uint8Array(buffer)
            var len = bytes.byteLength;
            for (var i = 0; i < len; i++) {
                binary += String.fromCharCode(bytes[i])
            }
            return window.btoa(binary);
        }

        var orientation = function (file, callback) {

            var fileReader = new FileReader();
            fileReader.onloadend = function () {
                var base64img = "data:" + file.type + ";base64," + _arrayBufferToBase64(fileReader.result);
                var scanner = new DataView(fileReader.result);
                var idx = 0;
                var value = 1; // Non-rotated is the default
                if (fileReader.result.length < 2 || scanner.getUint16(idx) != 0xFFD8) {
                    // Not a JPEG
                    if (callback) {
                        callback(base64img, value);
                    }
                    return;
                }
                idx += 2;
                var maxBytes = scanner.byteLength;
                while (idx < maxBytes - 2) {
                    var uint16 = scanner.getUint16(idx);
                    idx += 2;
                    switch (uint16) {
                        case 0xFFE1: // Start of EXIF
                            var exifLength = scanner.getUint16(idx);
                            maxBytes = exifLength - idx;
                            idx += 2;
                            break;
                        case 0x0112: // Orientation tag
                            // Read the value, its 6 bytes further out
                            // See page 102 at the following URL
                            // http://www.kodak.com/global/plugins/acrobat/en/service/digCam/exifStandard2.pdf
                            value = scanner.getUint16(idx + 6, false);
                            maxBytes = 0; // Stop scanning
                            break;
                    }
                }
                if (callback) {
                    callback(base64img, value);
                }
            }
            fileReader.readAsArrayBuffer(file);
        };

        $(function () {

            $('#file').change(function () {
                var file = $(this)[0].files[0];
                if (file) {
                    orientation(file, function (base64img, value) {
                        $('#placeholder1').attr('src', base64img);
                        console.log(rotation[value]);
                        var rotated = $('#placeholder2').attr('src', base64img);
                        if (value) {
                            rotated.css('transform', rotation[value]);
                        }
                    });
                }
            });
        });
    </script>


    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init();
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="js/jquery.fancybox.min.js"></script>
    <script src="js/slick.min.js"></script>
    <script src="js/main.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $(".fancybox").fancybox();
        });
    </script>



</body>

</html>